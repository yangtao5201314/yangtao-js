var VueDemi=function(r,n,v){if(r.install)return r;if(!n)return console.error("[vue-demi] no Vue instance found, please be sure to import `vue` before `vue-demi`."),r;if(n.version.slice(0,4)==="2.7."){let o=function(i,f){var c,y={},h={config:n.config,use:n.use.bind(n),mixin:n.mixin.bind(n),component:n.component.bind(n),provide:function(u,d){return y[u]=d,this},directive:function(u,d){return d?(n.directive(u,d),h):n.directive(u)},mount:function(u,d){return c||(c=new n(Object.assign({propsData:f},i,{provide:Object.assign(y,i.provide)})),c.$mount(u,d),c)},unmount:function(){c&&(c.$destroy(),c=void 0)}};return h};var P=o;for(var e in n)r[e]=n[e];r.isVue2=!0,r.isVue3=!1,r.install=function(){},r.Vue=n,r.Vue2=n,r.version=n.version,r.warn=n.util.warn,r.hasInjectionContext=()=>!!r.getCurrentInstance(),r.createApp=o}else if(n.version.slice(0,2)==="2.")if(v){for(var e in v)r[e]=v[e];r.isVue2=!0,r.isVue3=!1,r.install=function(){},r.Vue=n,r.Vue2=n,r.version=n.version,r.hasInjectionContext=()=>!!r.getCurrentInstance()}else console.error("[vue-demi] no VueCompositionAPI instance found, please be sure to import `@vue/composition-api` before `vue-demi`.");else if(n.version.slice(0,2)==="3."){for(var e in n)r[e]=n[e];r.isVue2=!1,r.isVue3=!0,r.install=function(){},r.Vue=n,r.Vue2=void 0,r.version=n.version,r.set=function(o,i,f){return Array.isArray(o)?(o.length=Math.max(o.length,i),o.splice(i,1,f),f):(o[i]=f,f)},r.del=function(o,i){if(Array.isArray(o)){o.splice(i,1);return}delete o[i]}}else console.error("[vue-demi] Vue version "+n.version+" is unsupported.");return r}(this.VueDemi=this.VueDemi||(typeof VueDemi<"u"?VueDemi:{}),this.Vue||(typeof Vue<"u"?Vue:void 0),this.VueCompositionAPI||(typeof VueCompositionAPI<"u"?VueCompositionAPI:void 0));(function(r,n,v,e){"use strict";var P=Object.defineProperty,o=Object.defineProperties,i=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,h=(a,t,s)=>t in a?P(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,u=(a,t)=>{for(var s in t||(t={}))c.call(t,s)&&h(a,s,t[s]);if(f)for(var s of f(t))y.call(t,s)&&h(a,s,t[s]);return a},d=(a,t)=>o(a,i(t));const U=v.default||v;function R(a,t,s={}){const{validateOption:E={},immediate:b=!0,manual:A=!1}=s,I=n.toRef(a),p=e.shallowRef(null),_=e.ref(!0),w=e.ref(!b||A),j=e.computed(()=>{var l;return((l=p.value)==null?void 0:l.errors)||[]}),g=e.computed(()=>{var l;return((l=p.value)==null?void 0:l.fields)||{}}),x=e.computed(()=>new U(n.toValue(t))),C=async()=>{_.value=!1,w.value=!1;try{await x.value.validate(I.value,E),w.value=!0,p.value=null}catch(l){p.value=l}finally{_.value=!0}return{pass:w.value,errorInfo:p.value,errors:j.value,errorFields:g.value}};A||e.watch([I,x],()=>C(),{immediate:b,deep:!0});const F={isFinished:_,pass:w,errors:j,errorInfo:p,errorFields:g,execute:C};function S(){return new Promise((l,O)=>{n.until(_).toBe(!0).then(()=>l(F)).catch($=>O($))})}return d(u({},F),{then(l,O){return S().then(l,O)}})}r.useAsyncValidator=R})(this.VueUse=this.VueUse||{},VueUse,AsyncValidator,VueDemi);
