var VueDemi=function(e,n,v){if(e.install)return e;if(!n)return console.error("[vue-demi] no Vue instance found, please be sure to import `vue` before `vue-demi`."),e;if(n.version.slice(0,4)==="2.7."){let a=function(l,u){var c,p={},h={config:n.config,use:n.use.bind(n),mixin:n.mixin.bind(n),component:n.component.bind(n),provide:function(d,t){return p[d]=t,this},directive:function(d,t){return t?(n.directive(d,t),h):n.directive(d)},mount:function(d,t){return c||(c=new n(Object.assign({propsData:u},l,{provide:Object.assign(p,l.provide)})),c.$mount(d,t),c)},unmount:function(){c&&(c.$destroy(),c=void 0)}};return h};var g=a;for(var s in n)e[s]=n[s];e.isVue2=!0,e.isVue3=!1,e.install=function(){},e.Vue=n,e.Vue2=n,e.version=n.version,e.warn=n.util.warn,e.hasInjectionContext=()=>!!e.getCurrentInstance(),e.createApp=a}else if(n.version.slice(0,2)==="2.")if(v){for(var s in v)e[s]=v[s];e.isVue2=!0,e.isVue3=!1,e.install=function(){},e.Vue=n,e.Vue2=n,e.version=n.version,e.hasInjectionContext=()=>!!e.getCurrentInstance()}else console.error("[vue-demi] no VueCompositionAPI instance found, please be sure to import `@vue/composition-api` before `vue-demi`.");else if(n.version.slice(0,2)==="3."){for(var s in n)e[s]=n[s];e.isVue2=!1,e.isVue3=!0,e.install=function(){},e.Vue=n,e.Vue2=void 0,e.version=n.version,e.set=function(a,l,u){return Array.isArray(a)?(a.length=Math.max(a.length,l),a.splice(l,1,u),u):(a[l]=u,u)},e.del=function(a,l){if(Array.isArray(a)){a.splice(l,1);return}delete a[l]}}else console.error("[vue-demi] Vue version "+n.version+" is unsupported.");return e}(this.VueDemi=this.VueDemi||(typeof VueDemi<"u"?VueDemi:{}),this.Vue||(typeof Vue<"u"?Vue:void 0),this.VueCompositionAPI||(typeof VueCompositionAPI<"u"?VueCompositionAPI:void 0));(function(e,n,v,s,g){"use strict";var a=Object.defineProperty,l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,p=(t,i,r)=>i in t?a(t,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[i]=r,h=(t,i)=>{for(var r in i||(i={}))u.call(i,r)&&p(t,r,i[r]);if(l)for(var r of l(i))c.call(i,r)&&p(t,r,i[r]);return t};function d(t,i){const r=n.ref();let y=[];const b=s.createEventHook(),E=s.createEventHook(),P=s.createEventHook(),w=s.createEventHook(),C=s.createEventHook(),O=n.ref(!1),H=n.ref(!1),k=n.ref(!1),A=n.ref(!1),_=n.ref({color:"black",size:3,arrowEnd:!1,cornerRadius:0,dasharray:void 0,fill:"transparent",mode:"draw"});n.watch(_,()=>{const o=r.value;o&&(o.brush=_.value,o.mode=_.value.mode)},{deep:!0});const j=()=>{var o;return(o=r.value)==null?void 0:o.undo()},U=()=>{var o;return(o=r.value)==null?void 0:o.redo()},x=()=>{var o;return(o=r.value)==null?void 0:o.clear()},G=()=>{var o;return(o=r.value)==null?void 0:o.cancel()},R=o=>{var f;return(f=r.value)==null?void 0:f.load(o)},m=()=>{var o;return(o=r.value)==null?void 0:o.dump()},S=()=>{var o;y.forEach(f=>f()),(o=r.value)==null||o.unmount()},I=()=>{r.value&&(O.value=r.value.canUndo(),H.value=r.value.canRedo(),k.value=r.value.altPressed,A.value=r.value.shiftPressed)};return n.watch(()=>s.unrefElement(t),o=>{!o||typeof SVGSVGElement>"u"||!(o instanceof SVGSVGElement)||(r.value&&S(),r.value=v.createDrauu(h({el:o},i)),I(),y=[r.value.on("canceled",()=>E.trigger()),r.value.on("committed",f=>P.trigger(f)),r.value.on("start",()=>w.trigger()),r.value.on("end",()=>C.trigger()),r.value.on("changed",()=>{I(),b.trigger()})])},{flush:"post"}),g.tryOnScopeDispose(()=>S()),{drauuInstance:r,load:R,dump:m,clear:x,cancel:G,undo:j,redo:U,canUndo:O,canRedo:H,brush:_,onChanged:b.on,onCommitted:P.on,onStart:w.on,onEnd:C.on,onCanceled:E.on}}e.useDrauu=d})(this.VueUse=this.VueUse||{},VueDemi,Drauu,VueUse,VueUse);
